import{m as je,f as w,o as b,w as O,j as Y,B as N,i as x,r as He,M as Ee,l as te,S as K,Q as ve,v as Ke,R as Ve,x as We,b as q,O as Ge,c as V,F as oe,y as le,z as D,T as qe,A as J,d as be,t as ce,a as he}from"./BH4CL5cc.js";import{u as Ye}from"./DnvHBdIE.js";import{g as ie,o as Qe}from"./CvtTglqh.js";import{t as Be}from"./O0opt6N1.js";import{p as Ue}from"./Dg5w8ivl.js";import ne from"./DuUTf5mV.js";import Je from"./CHhl7yuu.js";import Xe from"./D4ZMjnOk.js";import Ze from"./BhYD8gJL.js";import et from"./DVgKDPE9.js";import tt from"./DZ1Yju6B.js";import st from"./BgI6AVZi.js";import it from"./DeBzI0-d.js";import{u as nt}from"./DZhIbw6z.js";import{u as rt}from"./zkBJax86.js";import{i as ut,_ as at,a as ot,b as lt,c as ct,d as ht,e as dt}from"./BkMAVtVy.js";import{P as ft}from"./DGROana5.js";import{r as Fe}from"./4qzInpf6.js";import"./wSbNHcIL.js";import"./BFXmnonR.js";import"./tKuc9PKf.js";import"./C0HPRuTd.js";import"./DYcI0dWv.js";import"./BhmYCg8b.js";import"./BWoT6vWr.js";import"./kkUWTacr.js";import"./B8fnFyT8.js";import"./C4IQEttf.js";import"./qgkefjPh.js";import"./CRXAASKd.js";import"./B-qXnbMs.js";import"./ChOKVcqp.js";import"./D_vDscbT.js";import"./FUKBWQwh.js";import"./BYGrLFL5.js";import"./CmBXxmme.js";import"./BgRmOOwW.js";import"./CsFPNAZ-.js";import"./DcEBlvdf.js";import"./kRIii9yh.js";import"./D6t4sbvV.js";const gt=je({__name:"ListboxGroupLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(s){const e=s,t=ut({id:""});return(i,n)=>(b(),w(x(ft),N(e,{id:x(t).id}),{default:O(()=>[Y(i.$slots,"default")]),_:3},16,["id"]))}});function z(s){return Array.isArray?Array.isArray(s):we(s)==="[object Array]"}function mt(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-1/0?"-0":e}function pt(s){return s==null?"":mt(s)}function P(s){return typeof s=="string"}function ke(s){return typeof s=="number"}function At(s){return s===!0||s===!1||yt(s)&&we(s)=="[object Boolean]"}function $e(s){return typeof s=="object"}function yt(s){return $e(s)&&s!==null}function k(s){return s!=null}function de(s){return!s.trim().length}function we(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const Ct="Incorrect 'index' type",xt=s=>`Invalid value for key ${s}`,Et=s=>`Pattern length exceeds max of ${s}.`,vt=s=>`Missing ${s} property in key`,bt=s=>`Property 'weight' in key '${s}' must be a positive integer`,Me=Object.prototype.hasOwnProperty;class Bt{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(i=>{let n=Te(i);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(i=>{i.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Te(s){let e=null,t=null,i=null,n=1,r=null;if(P(s)||z(s))i=s,e=_e(s),t=fe(s);else{if(!Me.call(s,"name"))throw new Error(vt("name"));const u=s.name;if(i=u,Me.call(s,"weight")&&(n=s.weight,n<=0))throw new Error(bt(u));e=_e(u),t=fe(u),r=s.getFn}return{path:e,id:t,weight:n,src:i,getFn:r}}function _e(s){return z(s)?s:s.split(".")}function fe(s){return z(s)?s.join("."):s}function Ft(s,e){let t=[],i=!1;const n=(r,u,a)=>{if(k(r))if(!u[a])t.push(r);else{let l=u[a];const c=r[l];if(!k(c))return;if(a===u.length-1&&(P(c)||ke(c)||At(c)))t.push(pt(c));else if(z(c)){i=!0;for(let o=0,f=c.length;o<f;o+=1)n(c[o],u,a+1)}else u.length&&n(c,u,a+1)}};return n(s,P(e)?e.split("."):e,0),i?t:t[0]}const Mt={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},_t={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},Dt={location:0,threshold:.6,distance:100},It={useExtendedSearch:!1,getFn:Ft,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var d={..._t,...Mt,...Dt,...It};const Lt=/[^ ]+/g;function St(s=1,e=3){const t=new Map,i=Math.pow(10,e);return{get(n){const r=n.match(Lt).length;if(t.has(r))return t.get(r);const u=1/Math.pow(r,.5*s),a=parseFloat(Math.round(u*i)/i);return t.set(r,a),a},clear(){t.clear()}}}class Ce{constructor({getFn:e=d.getFn,fieldNormWeight:t=d.fieldNormWeight}={}){this.norm=St(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,i)=>{this._keysMap[t.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,P(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();P(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!k(e)||de(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((n,r)=>{let u=n.getFn?n.getFn(e):this.getFn(e,n.path);if(k(u)){if(z(u)){let a=[];const l=[{nestedArrIndex:-1,value:u}];for(;l.length;){const{nestedArrIndex:c,value:o}=l.pop();if(k(o))if(P(o)&&!de(o)){let f={v:o,i:c,n:this.norm.get(o)};a.push(f)}else z(o)&&o.forEach((f,m)=>{l.push({nestedArrIndex:m,value:f})})}i.$[r]=a}else if(P(u)&&!de(u)){let a={v:u,n:this.norm.get(u)};i.$[r]=a}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function Oe(s,e,{getFn:t=d.getFn,fieldNormWeight:i=d.fieldNormWeight}={}){const n=new Ce({getFn:t,fieldNormWeight:i});return n.setKeys(s.map(Te)),n.setSources(e),n.create(),n}function kt(s,{getFn:e=d.getFn,fieldNormWeight:t=d.fieldNormWeight}={}){const{keys:i,records:n}=s,r=new Ce({getFn:e,fieldNormWeight:t});return r.setKeys(i),r.setIndexRecords(n),r}function re(s,{errors:e=0,currentLocation:t=0,expectedLocation:i=0,distance:n=d.distance,ignoreLocation:r=d.ignoreLocation}={}){const u=e/s.length;if(r)return u;const a=Math.abs(i-t);return n?u+a/n:a?1:u}function $t(s=[],e=d.minMatchCharLength){let t=[],i=-1,n=-1,r=0;for(let u=s.length;r<u;r+=1){let a=s[r];a&&i===-1?i=r:!a&&i!==-1&&(n=r-1,n-i+1>=e&&t.push([i,n]),i=-1)}return s[r-1]&&r-i>=e&&t.push([i,r-1]),t}const Q=32;function wt(s,e,t,{location:i=d.location,distance:n=d.distance,threshold:r=d.threshold,findAllMatches:u=d.findAllMatches,minMatchCharLength:a=d.minMatchCharLength,includeMatches:l=d.includeMatches,ignoreLocation:c=d.ignoreLocation}={}){if(e.length>Q)throw new Error(Et(Q));const o=e.length,f=s.length,m=Math.max(0,Math.min(i,f));let A=r,E=m;const M=a>1||l,p=M?Array(f):[];let C;for(;(C=s.indexOf(e,E))>-1;){let g=re(e,{currentLocation:C,expectedLocation:m,distance:n,ignoreLocation:c});if(A=Math.min(g,A),E=C+o,M){let B=0;for(;B<o;)p[C+B]=1,B+=1}}E=-1;let v=[],I=1,F=o+f;const R=1<<o-1;for(let g=0;g<o;g+=1){let B=0,_=F;for(;B<_;)re(e,{errors:g,currentLocation:m+_,expectedLocation:m,distance:n,ignoreLocation:c})<=A?B=_:F=_,_=Math.floor((F-B)/2+B);F=_;let h=Math.max(1,m-_+1),$=u?f:Math.min(m+_,f)+o,L=Array($+2);L[$+1]=(1<<g)-1;for(let S=$;S>=h;S-=1){let G=S-1,Z=t[s.charAt(G)];if(M&&(p[G]=+!!Z),L[S]=(L[S+1]<<1|1)&Z,g&&(L[S]|=(v[S+1]|v[S])<<1|1|v[S+1]),L[S]&R&&(I=re(e,{errors:g,currentLocation:G,expectedLocation:m,distance:n,ignoreLocation:c}),I<=A)){if(A=I,E=G,E<=m)break;h=Math.max(1,2*m-E)}}if(re(e,{errors:g+1,currentLocation:m,expectedLocation:m,distance:n,ignoreLocation:c})>A)break;v=L}const y={isMatch:E>=0,score:Math.max(.001,I)};if(M){const g=$t(p,a);g.length?l&&(y.indices=g):y.isMatch=!1}return y}function Tt(s){let e={};for(let t=0,i=s.length;t<i;t+=1){const n=s.charAt(t);e[n]=(e[n]||0)|1<<i-t-1}return e}const ue=String.prototype.normalize?s=>s.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):s=>s;class Re{constructor(e,{location:t=d.location,threshold:i=d.threshold,distance:n=d.distance,includeMatches:r=d.includeMatches,findAllMatches:u=d.findAllMatches,minMatchCharLength:a=d.minMatchCharLength,isCaseSensitive:l=d.isCaseSensitive,ignoreDiacritics:c=d.ignoreDiacritics,ignoreLocation:o=d.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:n,includeMatches:r,findAllMatches:u,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:o},e=l?e:e.toLowerCase(),e=c?ue(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const f=(A,E)=>{this.chunks.push({pattern:A,alphabet:Tt(A),startIndex:E})},m=this.pattern.length;if(m>Q){let A=0;const E=m%Q,M=m-E;for(;A<M;)f(this.pattern.substr(A,Q),A),A+=Q;if(E){const p=m-Q;f(this.pattern.substr(p),p)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:i,includeMatches:n}=this.options;if(e=t?e:e.toLowerCase(),e=i?ue(e):e,this.pattern===e){let M={isMatch:!0,score:0};return n&&(M.indices=[[0,e.length-1]]),M}const{location:r,distance:u,threshold:a,findAllMatches:l,minMatchCharLength:c,ignoreLocation:o}=this.options;let f=[],m=0,A=!1;this.chunks.forEach(({pattern:M,alphabet:p,startIndex:C})=>{const{isMatch:v,score:I,indices:F}=wt(e,M,p,{location:r+C,distance:u,threshold:a,findAllMatches:l,minMatchCharLength:c,includeMatches:n,ignoreLocation:o});v&&(A=!0),m+=I,v&&F&&(f=[...f,...F])});let E={isMatch:A,score:A?m/this.chunks.length:1};return A&&n&&(E.indices=f),E}}class W{constructor(e){this.pattern=e}static isMultiMatch(e){return De(e,this.multiRegex)}static isSingleMatch(e){return De(e,this.singleRegex)}search(){}}function De(s,e){const t=s.match(e);return t?t[1]:null}class Ot extends W{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Rt extends W{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class Pt extends W{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Nt extends W{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class zt extends W{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class jt extends W{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Pe extends W{constructor(e,{location:t=d.location,threshold:i=d.threshold,distance:n=d.distance,includeMatches:r=d.includeMatches,findAllMatches:u=d.findAllMatches,minMatchCharLength:a=d.minMatchCharLength,isCaseSensitive:l=d.isCaseSensitive,ignoreDiacritics:c=d.ignoreDiacritics,ignoreLocation:o=d.ignoreLocation}={}){super(e),this._bitapSearch=new Re(e,{location:t,threshold:i,distance:n,includeMatches:r,findAllMatches:u,minMatchCharLength:a,isCaseSensitive:l,ignoreDiacritics:c,ignoreLocation:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Ne extends W{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,i;const n=[],r=this.pattern.length;for(;(i=e.indexOf(this.pattern,t))>-1;)t=i+r,n.push([i,t-1]);const u=!!n.length;return{isMatch:u,score:u?0:1,indices:n}}}const ge=[Ot,Ne,Pt,Nt,jt,zt,Rt,Pe],Ie=ge.length,Ht=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Kt="|";function Vt(s,e={}){return s.split(Kt).map(t=>{let i=t.trim().split(Ht).filter(r=>r&&!!r.trim()),n=[];for(let r=0,u=i.length;r<u;r+=1){const a=i[r];let l=!1,c=-1;for(;!l&&++c<Ie;){const o=ge[c];let f=o.isMultiMatch(a);f&&(n.push(new o(f,e)),l=!0)}if(!l)for(c=-1;++c<Ie;){const o=ge[c];let f=o.isSingleMatch(a);if(f){n.push(new o(f,e));break}}}return n})}const Wt=new Set([Pe.type,Ne.type]);class Gt{constructor(e,{isCaseSensitive:t=d.isCaseSensitive,ignoreDiacritics:i=d.ignoreDiacritics,includeMatches:n=d.includeMatches,minMatchCharLength:r=d.minMatchCharLength,ignoreLocation:u=d.ignoreLocation,findAllMatches:a=d.findAllMatches,location:l=d.location,threshold:c=d.threshold,distance:o=d.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:i,includeMatches:n,minMatchCharLength:r,findAllMatches:a,ignoreLocation:u,location:l,threshold:c,distance:o},e=t?e:e.toLowerCase(),e=i?ue(e):e,this.pattern=e,this.query=Vt(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:n,ignoreDiacritics:r}=this.options;e=n?e:e.toLowerCase(),e=r?ue(e):e;let u=0,a=[],l=0;for(let c=0,o=t.length;c<o;c+=1){const f=t[c];a.length=0,u=0;for(let m=0,A=f.length;m<A;m+=1){const E=f[m],{isMatch:M,indices:p,score:C}=E.search(e);if(M){if(u+=1,l+=C,i){const v=E.constructor.type;Wt.has(v)?a=[...a,...p]:a.push(p)}}else{l=0,u=0,a.length=0;break}}if(u){let m={isMatch:!0,score:l/u};return i&&(m.indices=a),m}}return{isMatch:!1,score:1}}}const me=[];function qt(...s){me.push(...s)}function pe(s,e){for(let t=0,i=me.length;t<i;t+=1){let n=me[t];if(n.condition(s,e))return new n(s,e)}return new Re(s,e)}const ae={AND:"$and",OR:"$or"},Ae={PATH:"$path",PATTERN:"$val"},ye=s=>!!(s[ae.AND]||s[ae.OR]),Yt=s=>!!s[Ae.PATH],Qt=s=>!z(s)&&$e(s)&&!ye(s),Le=s=>({[ae.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function ze(s,e,{auto:t=!0}={}){const i=n=>{let r=Object.keys(n);const u=Yt(n);if(!u&&r.length>1&&!ye(n))return i(Le(n));if(Qt(n)){const l=u?n[Ae.PATH]:r[0],c=u?n[Ae.PATTERN]:n[l];if(!P(c))throw new Error(xt(l));const o={keyId:fe(l),pattern:c};return t&&(o.searcher=pe(c,e)),o}let a={children:[],operator:r[0]};return r.forEach(l=>{const c=n[l];z(c)&&c.forEach(o=>{a.children.push(i(o))})}),a};return ye(s)||(s=Le(s)),i(s)}function Ut(s,{ignoreFieldNorm:e=d.ignoreFieldNorm}){s.forEach(t=>{let i=1;t.matches.forEach(({key:n,norm:r,score:u})=>{const a=n?n.weight:null;i*=Math.pow(u===0&&a?Number.EPSILON:u,(a||1)*(e?1:r))}),t.score=i})}function Jt(s,e){const t=s.matches;e.matches=[],k(t)&&t.forEach(i=>{if(!k(i.indices)||!i.indices.length)return;const{indices:n,value:r}=i;let u={indices:n,value:r};i.key&&(u.key=i.key.src),i.idx>-1&&(u.refIndex=i.idx),e.matches.push(u)})}function Xt(s,e){e.score=s.score}function Zt(s,e,{includeMatches:t=d.includeMatches,includeScore:i=d.includeScore}={}){const n=[];return t&&n.push(Jt),i&&n.push(Xt),s.map(r=>{const{idx:u}=r,a={item:e[u],refIndex:u};return n.length&&n.forEach(l=>{l(r,a)}),a})}class X{constructor(e,t={},i){this.options={...d,...t},this.options.useExtendedSearch,this._keyStore=new Bt(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Ce))throw new Error(Ct);this._myIndex=t||Oe(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){k(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let i=0,n=this._docs.length;i<n;i+=1){const r=this._docs[i];e(r,i)&&(this.removeAt(i),i-=1,n-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:n,shouldSort:r,sortFn:u,ignoreFieldNorm:a}=this.options;let l=P(e)?P(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Ut(l,{ignoreFieldNorm:a}),r&&l.sort(u),ke(t)&&t>-1&&(l=l.slice(0,t)),Zt(l,this._docs,{includeMatches:i,includeScore:n})}_searchStringList(e){const t=pe(e,this.options),{records:i}=this._myIndex,n=[];return i.forEach(({v:r,i:u,n:a})=>{if(!k(r))return;const{isMatch:l,score:c,indices:o}=t.searchIn(r);l&&n.push({item:r,idx:u,matches:[{score:c,value:r,norm:a,indices:o}]})}),n}_searchLogical(e){const t=ze(e,this.options),i=(a,l,c)=>{if(!a.children){const{keyId:f,searcher:m}=a,A=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:m});return A&&A.length?[{idx:c,item:l,matches:A}]:[]}const o=[];for(let f=0,m=a.children.length;f<m;f+=1){const A=a.children[f],E=i(A,l,c);if(E.length)o.push(...E);else if(a.operator===ae.AND)return[]}return o},n=this._myIndex.records,r={},u=[];return n.forEach(({$:a,i:l})=>{if(k(a)){let c=i(t,a,l);c.length&&(r[l]||(r[l]={idx:l,item:a,matches:[]},u.push(r[l])),c.forEach(({matches:o})=>{r[l].matches.push(...o)}))}}),u}_searchObjectList(e){const t=pe(e,this.options),{keys:i,records:n}=this._myIndex,r=[];return n.forEach(({$:u,i:a})=>{if(!k(u))return;let l=[];i.forEach((c,o)=>{l.push(...this._findMatches({key:c,value:u[o],searcher:t}))}),l.length&&r.push({idx:a,item:u,matches:l})}),r}_findMatches({key:e,value:t,searcher:i}){if(!k(t))return[];let n=[];if(z(t))t.forEach(({v:r,i:u,n:a})=>{if(!k(r))return;const{isMatch:l,score:c,indices:o}=i.searchIn(r);l&&n.push({score:c,key:e,value:r,idx:u,norm:a,indices:o})});else{const{v:r,n:u}=t,{isMatch:a,score:l,indices:c}=i.searchIn(r);a&&n.push({score:l,key:e,value:r,norm:u,indices:c})}return n}}X.version="7.1.0";X.createIndex=Oe;X.parseIndex=kt;X.config=d;X.parseQuery=ze;qt(Gt);function es(s,e,t){const i=()=>{var u,a;return new X((u=K(e))!=null?u:[],(a=K(t))==null?void 0:a.fuseOptions)},n=He(i());Ee(()=>{var u;return(u=K(t))==null?void 0:u.fuseOptions},()=>{n.value=i()},{deep:!0}),Ee(()=>K(e),u=>{n.value.setCollection(u)},{deep:!0});const r=te(()=>{const u=K(t);if(u!=null&&u.matchAllWhenSearchEmpty&&!K(s))return K(e).map((l,c)=>({item:l,refIndex:c}));const a=u==null?void 0:u.resultLimit;return n.value.search(K(s),a?{limit:a}:void 0)});return{fuse:n,results:r}}function ts(s,e){let t="",i=0,n=!1;for(let r=s.length-1;r>=0;r--){if(s[r]===">")n=!0;else if(s[r]==="<"){n=!1,t=s[r]+t;continue}if(n||i++,i<=e)t=s[r]+t;else{t="..."+t;break}}return t}function Se(s,e,t,i){var r;function n(u,a=[]){u=u||"";let l="",c=0;a.forEach(f=>{if(f.length===2&&f[0]===f[1])return;const m=f[1]+1,A=m-f[0]>=e.length;l+=[u.substring(c,f[0]),A&&"<mark>",u.substring(f[0],m),A&&"</mark>"].filter(Boolean).join(""),c=m}),l+=u.substring(c);const o=l.indexOf("<mark>");return o!==-1&&(l=ts(l,l.length-o)),l}if((r=s.matches)!=null&&r.length){for(const u of s.matches)if(!(t&&u.key!==t)&&!(i!=null&&i.includes(u.key)))return n(u.value,u.indices)}}const ss={slots:{root:"flex flex-col min-h-0 min-w-0 divide-y divide-default",input:"[&>input]:h-12",close:"",content:"relative overflow-hidden flex flex-col",viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1 focus:outline-none",group:"p-1 isolate",empty:"py-6 text-center text-sm text-muted",label:"p-1.5 text-xs font-semibold text-highlighted",item:"group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0 size-5",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"2xs",itemLeadingChip:"shrink-0 size-5",itemLeadingChipSize:"md",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0 size-5",itemTrailingHighlightedIcon:"shrink-0 size-5 text-dimmed hidden group-data-highlighted:inline-flex",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5",itemTrailingKbdsSize:"md",itemLabel:"truncate space-x-1 rtl:space-x-reverse text-dimmed",itemLabelBase:"text-highlighted [&>mark]:text-inverted [&>mark]:bg-primary",itemLabelPrefix:"text-default",itemLabelSuffix:"text-dimmed [&>mark]:text-inverted [&>mark]:bg-primary"},variants:{active:{true:{item:"text-highlighted before:bg-elevated",itemLeadingIcon:"text-default"},false:{item:["text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}}}},is=["innerHTML"],ns=["innerHTML"],Gs={__name:"CommandPalette",props:ve({as:{type:null,required:!1},icon:{type:String,required:!1},selectedIcon:{type:String,required:!1},placeholder:{type:String,required:!1},autofocus:{type:Boolean,required:!1,default:!0},close:{type:[Boolean,Object],required:!1},closeIcon:{type:String,required:!1},groups:{type:Array,required:!1},fuse:{type:Object,required:!1},labelKey:{type:String,required:!1,default:"label"},class:{type:null,required:!1},ui:{type:null,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},highlightOnHover:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:ve(["update:modelValue","highlight","entryFocus","leave","update:open"],["update:searchTerm"]),setup(s,{emit:e}){const t=s,i=e,n=Ke(),r=Ve(s,"searchTerm",{type:String,default:""}),{t:u}=Ye(),a=We(),l=nt(Fe(t,"as","disabled","multiple","modelValue","defaultValue","highlightOnHover"),i),c=rt(Fe(t,"loading","loadingIcon")),o=te(()=>{var p;return Be({extend:Be(ss),...((p=a.ui)==null?void 0:p.commandPalette)||{}})()}),f=te(()=>qe({},t.fuse,{fuseOptions:{ignoreLocation:!0,threshold:.1,keys:[t.labelKey,"suffix"]},resultLimit:12,matchAllWhenSearchEmpty:!0})),m=te(()=>{var p;return((p=t.groups)==null?void 0:p.filter(C=>C.id?!C.ignoreFilter:(console.warn("[@nuxt/ui] CommandPalette group is missing an `id` property"),!1)).flatMap(C=>{var v;return((v=C.items)==null?void 0:v.map(I=>({...I,group:C.id})))||[]}))||[]}),{results:A}=es(r,m,f);function E(p,C){return p!=null&&p.postFilter&&typeof p.postFilter=="function"&&(C=p.postFilter(r.value,C)),{...p,items:C.slice(0,f.value.resultLimit).map(v=>({...v,labelHtml:Se(v,r.value,t.labelKey),suffixHtml:Se(v,r.value,void 0,[t.labelKey])}))}}const M=te(()=>{var I,F,R;const p=A.value.reduce((y,g)=>{var h,$;const{item:B,matches:_}=g;return B.group&&(y[h=B.group]||(y[h]=[]),($=y[B.group])==null||$.push({...B,matches:_})),y},{}),C=Object.entries(p).map(([y,g])=>{var _;const B=(_=t.groups)==null?void 0:_.find(h=>h.id===y);if(B)return E(B,g)}).filter(y=>!!y);return(((R=(F=(I=t.groups)==null?void 0:I.map((y,g)=>({...y,index:g})))==null?void 0:F.filter(y=>{var g;return y.ignoreFilter&&((g=y.items)==null?void 0:g.length)}))==null?void 0:R.map(y=>({...E(y,y.items||[]),index:y.index})))||[]).reduce((y,g)=>(y.splice(g.index,0,g),y),[...C])});return(p,C)=>{var v;return b(),w(x(lt),N(x(l),{class:o.value.root({class:[t.class,(v=t.ui)==null?void 0:v.root]})}),{default:O(()=>{var I;return[q(x(at),{modelValue:r.value,"onUpdate:modelValue":C[1]||(C[1]=F=>r.value=F),"as-child":""},{default:O(()=>{var F;return[q(st,N({placeholder:s.placeholder||x(u)("commandPalette.placeholder"),variant:"none",autofocus:s.autofocus},x(c),{icon:s.icon||x(a).ui.icons.search,class:o.value.input({class:(F=t.ui)==null?void 0:F.input})}),Ge({_:2},[s.close||n.close?{name:"trailing",fn:O(()=>[Y(p.$slots,"close",{ui:o.value},()=>{var R;return[s.close?(b(),w(Xe,N({key:0,icon:s.closeIcon||x(a).ui.icons.close,size:"md",color:"neutral",variant:"ghost","aria-label":x(u)("commandPalette.close")},typeof s.close=="object"?s.close:{},{class:o.value.close({class:(R=t.ui)==null?void 0:R.close}),onClick:C[0]||(C[0]=y=>i("update:open",!1))}),null,16,["icon","aria-label","class"])):J("",!0)]})]),key:"0"}:void 0]),1040,["placeholder","autofocus","icon","class"])]}),_:3},8,["modelValue"]),q(x(ot),{class:D(o.value.content({class:(I=t.ui)==null?void 0:I.content}))},{default:O(()=>{var F,R,y;return[(F=M.value)!=null&&F.length?(b(),V("div",{key:0,class:D(o.value.viewport({class:(R=t.ui)==null?void 0:R.viewport}))},[(b(!0),V(oe,null,le(M.value,g=>{var B;return b(),w(x(ct),{key:`group-${g.id}`,class:D(o.value.group({class:(B=t.ui)==null?void 0:B.group}))},{default:O(()=>{var _;return[x(ie)(g,t.labelKey)?(b(),w(x(gt),{key:0,class:D(o.value.label({class:(_=t.ui)==null?void 0:_.label}))},{default:O(()=>[be(ce(x(ie)(g,t.labelKey)),1)]),_:2},1032,["class"])):J("",!0),(b(!0),V(oe,null,le(g.items,(h,$)=>(b(),w(x(ht),{key:`group-${g.id}-${$}`,value:x(Qe)(h,["matches","group","onSelect","labelHtml","suffixHtml"]),disabled:h.disabled,"as-child":"",onSelect:h.onSelect},{default:O(()=>[q(tt,N({ref_for:!0},x(Ue)(h),{custom:""}),{default:O(({active:L,...xe})=>{var S;return[q(et,N({ref_for:!0},xe,{class:o.value.item({class:(S=t.ui)==null?void 0:S.item,active:L||h.active})}),{default:O(()=>[Y(p.$slots,h.slot||g.slot||"item",{item:h,index:$},()=>{var G,Z;return[Y(p.$slots,h.slot?`${h.slot}-leading`:g.slot?`${g.slot}-leading`:"item-leading",{item:h,index:$},()=>{var T,j,H,U,se,ee;return[h.loading?(b(),w(ne,{key:0,name:s.loadingIcon||x(a).ui.icons.loading,class:D(o.value.itemLeadingIcon({class:(T=t.ui)==null?void 0:T.itemLeadingIcon,loading:!0}))},null,8,["name","class"])):h.icon?(b(),w(ne,{key:1,name:h.icon,class:D(o.value.itemLeadingIcon({class:(j=t.ui)==null?void 0:j.itemLeadingIcon,active:L||h.active}))},null,8,["name","class"])):h.avatar?(b(),w(Je,N({key:2,size:((H=t.ui)==null?void 0:H.itemLeadingAvatarSize)||o.value.itemLeadingAvatarSize(),ref_for:!0},h.avatar,{class:o.value.itemLeadingAvatar({class:(U=t.ui)==null?void 0:U.itemLeadingAvatar,active:L||h.active})}),null,16,["size","class"])):h.chip?(b(),w(Ze,N({key:3,size:((se=t.ui)==null?void 0:se.itemLeadingChipSize)||o.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},h.chip,{class:o.value.itemLeadingChip({class:(ee=t.ui)==null?void 0:ee.itemLeadingChip,active:L||h.active})}),null,16,["size","class"])):J("",!0)]}),h.labelHtml||x(ie)(h,t.labelKey)||n[h.slot?`${h.slot}-label`:g.slot?`${g.slot}-label`:"item-label"]?(b(),V("span",{key:0,class:D(o.value.itemLabel({class:(G=t.ui)==null?void 0:G.itemLabel,active:L||h.active}))},[Y(p.$slots,h.slot?`${h.slot}-label`:g.slot?`${g.slot}-label`:"item-label",{item:h,index:$},()=>{var T,j,H;return[h.prefix?(b(),V("span",{key:0,class:D(o.value.itemLabelPrefix({class:(T=t.ui)==null?void 0:T.itemLabelPrefix}))},ce(h.prefix),3)):J("",!0),he("span",{class:D(o.value.itemLabelBase({class:(j=t.ui)==null?void 0:j.itemLabelBase,active:L||h.active})),innerHTML:h.labelHtml||x(ie)(h,t.labelKey)},null,10,is),he("span",{class:D(o.value.itemLabelSuffix({class:(H=t.ui)==null?void 0:H.itemLabelSuffix,active:L||h.active})),innerHTML:h.suffixHtml||h.suffix},null,10,ns)]})],2)):J("",!0),he("span",{class:D(o.value.itemTrailing({class:(Z=t.ui)==null?void 0:Z.itemTrailing}))},[Y(p.$slots,h.slot?`${h.slot}-trailing`:g.slot?`${g.slot}-trailing`:"item-trailing",{item:h,index:$},()=>{var T,j,H;return[(T=h.kbds)!=null&&T.length?(b(),V("span",{key:0,class:D(o.value.itemTrailingKbds({class:(j=t.ui)==null?void 0:j.itemTrailingKbds}))},[(b(!0),V(oe,null,le(h.kbds,(U,se)=>{var ee;return b(),w(it,N({key:se,size:((ee=t.ui)==null?void 0:ee.itemTrailingKbdsSize)||o.value.itemTrailingKbdsSize(),ref_for:!0},typeof U=="string"?{value:U}:U),null,16,["size"])}),128))],2)):g.highlightedIcon?(b(),w(ne,{key:1,name:g.highlightedIcon,class:D(o.value.itemTrailingHighlightedIcon({class:(H=t.ui)==null?void 0:H.itemTrailingHighlightedIcon}))},null,8,["name","class"])):J("",!0)]}),q(x(dt),{"as-child":""},{default:O(()=>{var T;return[q(ne,{name:s.selectedIcon||x(a).ui.icons.check,class:D(o.value.itemTrailingIcon({class:(T=t.ui)==null?void 0:T.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["value","disabled","onSelect"]))),128))]}),_:2},1032,["class"])}),128))],2)):(b(),V("div",{key:1,class:D(o.value.empty({class:(y=t.ui)==null?void 0:y.empty}))},[Y(p.$slots,"empty",{searchTerm:r.value},()=>[be(ce(r.value?x(u)("commandPalette.noMatch",{searchTerm:r.value}):x(u)("commandPalette.noData")),1)])],2))]}),_:3},8,["class"])]}),_:3},16,["class"])}}};export{Gs as default};
