import{Q as ge,v as Ne,R as De,x as Ge,C,T as D,l as S,c as h,b as d,w as c,i,z as o,P as Re,a as G,j as f,A as x,D as Ue,E as He,B as L,f as g,F as _,y as R,o as n,d as M,t as k,ax as Ye}from"./BH4CL5cc.js";import{b as Qe}from"./BkJeMoP0.js";import{u as Je}from"./DYcI0dWv.js";import{u as We}from"./C0HPRuTd.js";import{u as Xe}from"./BhmYCg8b.js";import{u as Ze}from"./DnvHBdIE.js";import{u as ea}from"./DWeCSV2Y.js";import{c as pe,g as A,i as aa}from"./CvtTglqh.js";import{t as me}from"./O0opt6N1.js";import V from"./DuUTf5mV.js";import fe from"./CHhl7yuu.js";import ia from"./BhYD8gJL.js";import ta from"./BgI6AVZi.js";import{u as la,_ as ve,a as he,b as sa,d as ra,e as na,f as oa,c as ua,g as ca,h as da,i as ga,j as pa,k as ma,l as fa,m as va}from"./DM_DB9Gw.js";import{u as ha}from"./DZhIbw6z.js";import{_ as ba}from"./BN9lasJD.js";import{r as ya}from"./4qzInpf6.js";import"./wSbNHcIL.js";import"./BFXmnonR.js";import"./zkBJax86.js";import"./tKuc9PKf.js";import"./DGROana5.js";import"./BWoT6vWr.js";import"./kkUWTacr.js";import"./BkMAVtVy.js";import"./B8fnFyT8.js";import"./C4IQEttf.js";import"./qgkefjPh.js";import"./CRXAASKd.js";import"./B-qXnbMs.js";import"./ChOKVcqp.js";import"./D_vDscbT.js";import"./FUKBWQwh.js";import"./BYGrLFL5.js";import"./CmBXxmme.js";import"./BgRmOOwW.js";import"./CsFPNAZ-.js";import"./DcEBlvdf.js";import"./kRIii9yh.js";import"./D6t4sbvV.js";import"./NKYLJHdx.js";import"./7xQ-t9BW.js";import"./8dI90XfD.js";import"./D4OIp904.js";import"./DUVt9DFh.js";import"./BqddvBLk.js";import"./DmzIJ98B.js";import"./pXpWsQCZ.js";const za={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:["max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto","origin-(--reka-combobox-content-transform-origin) w-(--reka-combobox-trigger-width)"],viewport:"divide-y divide-default scroll-py-1",group:"p-1 isolate",empty:"py-2 text-center text-sm text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",input:"border-b border-default",focusScope:"flex flex-col min-h-0"},variants:{buttonGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},fi=Object.assign({inheritAttrs:!1},{__name:"SelectMenu",props:ge({id:{type:String,required:!1},placeholder:{type:String,required:!1},searchInput:{type:[Boolean,Object],required:!1,default:!0},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},selectedIcon:{type:String,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:ge(["update:open","change","blur","focus","create","highlight","update:modelValue"],["update:searchTerm"]),setup(b,{emit:be}){const e=b,q=be,O=Ne(),u=De(b,"searchTerm",{type:String,default:""}),{t:F}=Ze(),K=Ge(),{contains:U}=la({sensitivity:"base"}),ye=ha(ya(e,"modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover"),q),ze=ea(C(()=>e.portal)),xe=C(()=>D(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),Ie=C(()=>e.arrow),Se=C(()=>D(e.searchInput,{placeholder:F("selectMenu.search"),variant:"none"})),{emitFormBlur:Le,emitFormFocus:Ae,emitFormInput:_e,emitFormChange:ke,size:qe,color:Te,id:we,name:$e,highlight:Be,disabled:Ce,ariaAttrs:Oe}=Xe(e),{orientation:Fe,size:je}=Je(e),{isLeading:P,isTrailing:H,leadingIconName:Y,trailingIconName:Q}=We(C(()=>D(e,{trailingIcon:K.ui.icons.chevronDown}))),E=S(()=>je.value||qe.value),[Me,J]=Qe(),t=S(()=>{var a;return me({extend:me(za),...((a=K.ui)==null?void 0:a.selectMenu)||{}})({color:Te.value,variant:e.variant,size:E==null?void 0:E.value,loading:e.loading,highlight:Be.value,leading:P.value||!!e.avatar||!!O.leading,trailing:H.value||!!O.trailing,buttonGroup:Fe.value})});function W(a){if(e.multiple&&Array.isArray(a))return a.map(l=>W(l)).filter(Boolean).join(", ");if(!e.valueKey)return a&&(typeof a=="object"?A(a,e.labelKey):a);const r=Ve.value.find(l=>pe(typeof l=="object"?A(l,e.valueKey):l,a));return r&&(typeof r=="object"?A(r,e.labelKey):r)}const N=S(()=>{var a;return(a=e.items)!=null&&a.length?aa(e.items)?e.items:[e.items]:[]}),Ve=S(()=>N.value.flatMap(a=>a)),X=S(()=>{if(e.ignoreFilter||!u.value)return N.value;const a=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return N.value.map(r=>r.filter(l=>typeof l!="object"||l===null?U(String(l),u.value):l.type&&["label","separator"].includes(l.type)?!0:a.some(y=>U(A(l,y),u.value)))).filter(r=>r.filter(l=>!v(l)||!l.type||!["label","separator"].includes(l.type)).length>0)}),Z=S(()=>X.value.flatMap(a=>a)),ee=S(()=>{if(!e.createItem||!u.value)return!1;const a=e.valueKey?{[e.valueKey]:u.value}:u.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!Z.value.find(r=>pe(r,a,e.valueKey)):!Z.value.length}),ae=S(()=>typeof e.createItem=="object"?e.createItem.position:"bottom");function Ke(a){if(Ye(e.modelValue)===a)return;const r=new Event("change",{target:{value:a}});q("change",r),ke(),_e(),e.resetSearchTermOnSelect&&(u.value="")}function Pe(a){let r;if(a){const l=new FocusEvent("focus");q("focus",l),Ae(),clearTimeout(r)}else{const l=new FocusEvent("blur");q("blur",l),Le(),e.resetSearchTermOnBlur&&(r=setTimeout(()=>{u.value=""},100))}}function Ee(a,r){var l;if(v(r)){if(r.disabled){a.preventDefault();return}(l=r.onSelect)==null||l.call(r,a)}}function v(a){return typeof a=="object"&&a!==null}return(a,r)=>(n(),h(_,null,[d(i(Me),null,{default:c(()=>{var l;return[d(i(ve),{class:o(t.value.group({class:(l=e.ui)==null?void 0:l.group}))},{default:c(()=>{var y;return[d(i(he),{class:o(t.value.item({class:(y=e.ui)==null?void 0:y.item})),value:u.value,onSelect:r[0]||(r[0]=Re(z=>q("create",u.value),["prevent"]))},{default:c(()=>{var z;return[G("span",{class:o(t.value.itemLabel({class:(z=e.ui)==null?void 0:z.itemLabel}))},[f(a.$slots,"create-item-label",{item:u.value},()=>[M(k(i(F)("selectMenu.create",{label:u.value})),1)])],2)]}),_:3},8,["class","value"])]}),_:3},8,["class"])]}),_:3}),d(i(pa),L({id:i(we)},{...i(ye),...a.$attrs,...i(Oe)},{"ignore-filter":"","as-child":"",name:i($e),disabled:i(Ce),"onUpdate:modelValue":Ke,"onUpdate:open":Pe}),{default:c(({modelValue:l,open:y})=>[d(i(sa),{"as-child":""},{default:c(()=>{var z;return[d(i(ra),{class:o(t.value.base({class:[e.class,(z=e.ui)==null?void 0:z.base]})),tabindex:"0"},{default:c(()=>{var T,w;return[i(P)||b.avatar||O.leading?(n(),h("span",{key:0,class:o(t.value.leading({class:(T=e.ui)==null?void 0:T.leading}))},[f(a.$slots,"leading",{modelValue:l,open:y,ui:t.value},()=>{var p,I,m;return[i(P)&&i(Y)?(n(),g(V,{key:0,name:i(Y),class:o(t.value.leadingIcon({class:(p=e.ui)==null?void 0:p.leadingIcon}))},null,8,["name","class"])):b.avatar?(n(),g(fe,L({key:1,size:((I=e.ui)==null?void 0:I.itemLeadingAvatarSize)||t.value.itemLeadingAvatarSize()},b.avatar,{class:t.value.itemLeadingAvatar({class:(m=e.ui)==null?void 0:m.itemLeadingAvatar})}),null,16,["size","class"])):x("",!0)]})],2)):x("",!0),f(a.$slots,"default",{modelValue:l,open:y},()=>[(n(!0),h(_,null,R([W(l)],p=>{var I,m;return n(),h(_,{key:p},[p?(n(),h("span",{key:0,class:o(t.value.value({class:(I=e.ui)==null?void 0:I.value}))},k(p),3)):(n(),h("span",{key:1,class:o(t.value.placeholder({class:(m=e.ui)==null?void 0:m.placeholder}))},k(b.placeholder??" "),3))],64)}),128))]),i(H)||O.trailing?(n(),h("span",{key:1,class:o(t.value.trailing({class:(w=e.ui)==null?void 0:w.trailing}))},[f(a.$slots,"trailing",{modelValue:l,open:y,ui:t.value},()=>{var p;return[i(Q)?(n(),g(V,{key:0,name:i(Q),class:o(t.value.trailingIcon({class:(p=e.ui)==null?void 0:p.trailingIcon}))},null,8,["name","class"])):x("",!0)]})],2)):x("",!0)]}),_:2},1032,["class"])]}),_:2},1024),d(i(na),Ue(He(i(ze))),{default:c(()=>{var z;return[d(i(oa),L({class:t.value.content({class:(z=e.ui)==null?void 0:z.content})},xe.value),{default:c(()=>{var T,w;return[d(i(ba),{trapped:"",class:o(t.value.focusScope({class:(T=e.ui)==null?void 0:T.focusScope}))},{default:c(()=>{var p,I;return[f(a.$slots,"content-top"),b.searchInput?(n(),g(i(ua),{key:0,modelValue:u.value,"onUpdate:modelValue":r[1]||(r[1]=m=>u.value=m),"display-value":()=>u.value,"as-child":""},{default:c(()=>{var m;return[d(ta,L({autofocus:"",autocomplete:"off"},Se.value,{class:t.value.input({class:(m=e.ui)==null?void 0:m.input})}),null,16,["class"])]}),_:1},8,["modelValue","display-value"])):x("",!0),d(i(ca),{class:o(t.value.empty({class:(p=e.ui)==null?void 0:p.empty}))},{default:c(()=>[f(a.$slots,"empty",{searchTerm:u.value},()=>[M(k(u.value?i(F)("selectMenu.noMatch",{searchTerm:u.value}):i(F)("selectMenu.noData")),1)])]),_:3},8,["class"]),d(i(da),{class:o(t.value.viewport({class:(I=e.ui)==null?void 0:I.viewport}))},{default:c(()=>[ee.value&&ae.value==="top"?(n(),g(i(J),{key:0})):x("",!0),(n(!0),h(_,null,R(X.value,(m,ie)=>{var te;return n(),g(i(ve),{key:`group-${ie}`,class:o(t.value.group({class:(te=e.ui)==null?void 0:te.group}))},{default:c(()=>[(n(!0),h(_,null,R(m,(s,$)=>{var le,se,re;return n(),h(_,{key:`group-${ie}-${$}`},[v(s)&&s.type==="label"?(n(),g(i(ma),{key:0,class:o(t.value.label({class:(le=e.ui)==null?void 0:le.label}))},{default:c(()=>[M(k(i(A)(s,e.labelKey)),1)]),_:2},1032,["class"])):v(s)&&s.type==="separator"?(n(),g(i(fa),{key:1,class:o(t.value.separator({class:(se=e.ui)==null?void 0:se.separator}))},null,8,["class"])):(n(),g(i(he),{key:2,class:o(t.value.item({class:(re=e.ui)==null?void 0:re.item})),disabled:v(s)&&s.disabled,value:e.valueKey&&v(s)?i(A)(s,e.valueKey):s,onSelect:j=>Ee(j,s)},{default:c(()=>[f(a.$slots,"item",{item:s,index:$},()=>{var j,ne;return[f(a.$slots,"item-leading",{item:s,index:$},()=>{var B,oe,ue,ce,de;return[v(s)&&s.icon?(n(),g(V,{key:0,name:s.icon,class:o(t.value.itemLeadingIcon({class:(B=e.ui)==null?void 0:B.itemLeadingIcon}))},null,8,["name","class"])):v(s)&&s.avatar?(n(),g(fe,L({key:1,size:((oe=e.ui)==null?void 0:oe.itemLeadingAvatarSize)||t.value.itemLeadingAvatarSize(),ref_for:!0},s.avatar,{class:t.value.itemLeadingAvatar({class:(ue=e.ui)==null?void 0:ue.itemLeadingAvatar})}),null,16,["size","class"])):v(s)&&s.chip?(n(),g(ia,L({key:2,size:((ce=e.ui)==null?void 0:ce.itemLeadingChipSize)||t.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},s.chip,{class:t.value.itemLeadingChip({class:(de=e.ui)==null?void 0:de.itemLeadingChip})}),null,16,["size","class"])):x("",!0)]}),G("span",{class:o(t.value.itemLabel({class:(j=e.ui)==null?void 0:j.itemLabel}))},[f(a.$slots,"item-label",{item:s,index:$},()=>[M(k(v(s)?i(A)(s,e.labelKey):s),1)])],2),G("span",{class:o(t.value.itemTrailing({class:(ne=e.ui)==null?void 0:ne.itemTrailing}))},[f(a.$slots,"item-trailing",{item:s,index:$}),d(i(va),{"as-child":""},{default:c(()=>{var B;return[d(V,{name:b.selectedIcon||i(K).ui.icons.check,class:o(t.value.itemTrailingIcon({class:(B=e.ui)==null?void 0:B.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1032,["class","disabled","value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),ee.value&&ae.value==="bottom"?(n(),g(i(J),{key:1})):x("",!0)]),_:3},8,["class"]),f(a.$slots,"content-bottom")]}),_:3},8,["class"]),b.arrow?(n(),g(i(ga),L({key:0},Ie.value,{class:t.value.arrow({class:(w=e.ui)==null?void 0:w.arrow})}),null,16,["class"])):x("",!0)]}),_:3},16,["class"])]}),_:3},16)]),_:3},16,["id","name","disabled"])],64))}});export{fi as default};
