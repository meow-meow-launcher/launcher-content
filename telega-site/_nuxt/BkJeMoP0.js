import{n as T,m as W,t as F,d as z,e as L,f as R,g as _,h as j,i as D,j as I}from"./4qzInpf6.js";import{J as K,K as p,r as P,U as V,l as M,m as A,M as C,S as w,a3 as $,i as k,g as q,V as J}from"./BH4CL5cc.js";function Y(t,u,r){let i;K(r)?i={evaluating:r}:i={};const{lazy:l=!1,evaluating:o=void 0,shallow:c=!0,onError:n=T}=i,e=p(!l),s=c?p(u):P(u);let a=0;return V(async v=>{if(!e.value)return;a++;const f=a;let d=!1;o&&Promise.resolve().then(()=>{o.value=!0});try{const m=await t(E=>{v(()=>{o&&(o.value=!1),d||E()})});f===a&&(s.value=m)}catch(m){n(m)}finally{o&&f===a&&(o.value=!1),d=!0}}),l?M(()=>(e.value=!0,s.value)):s}function Z(t={}){const{inheritAttrs:u=!0}=t,r=p(),i=A({setup(o,{slots:c}){return()=>{r.value=c.default}}}),l=A({inheritAttrs:u,props:t.props,setup(o,{attrs:c,slots:n}){return()=>{var e;r.value;const s=(e=r.value)==null?void 0:e.call(r,{...t.props==null?N(c):o,$slots:n});return u&&(s==null?void 0:s.length)===1?s[0]:s}}});return W({define:i,reuse:l},[i,l])}function N(t){const u={};for(const r in t)u[_(r)]=t[r];return u}const S=D?window:void 0;function g(t){var u;const r=w(t);return(u=r==null?void 0:r.$el)!=null?u:r}function B(...t){const u=[],r=()=>{u.forEach(n=>n()),u.length=0},i=(n,e,s,a)=>(n.addEventListener(e,s,a),()=>n.removeEventListener(e,s,a)),l=M(()=>{const n=z(w(t[0])).filter(e=>e!=null);return n.every(e=>typeof e!="string")?n:void 0}),o=L(()=>{var n,e;return[(e=(n=l.value)==null?void 0:n.map(s=>g(s)))!=null?e:[S].filter(s=>s!=null),z(w(l.value?t[1]:t[0])),z(k(l.value?t[2]:t[1])),w(l.value?t[3]:t[2])]},([n,e,s,a])=>{if(r(),!(n!=null&&n.length)||!(e!=null&&e.length)||!(s!=null&&s.length))return;const v=I(a)?{...a}:a;u.push(...n.flatMap(f=>e.flatMap(d=>s.map(m=>i(f,d,m,v)))))},{flush:"post"}),c=()=>{o(),r()};return R(r),c}function U(){const t=p(!1),u=J();return u&&q(()=>{t.value=!0},u),t}function x(t){const u=U();return M(()=>(u.value,!!t()))}function G(t,u,r={}){const{window:i=S,...l}=r;let o;const c=x(()=>i&&"MutationObserver"in i),n=()=>{o&&(o.disconnect(),o=void 0)},e=M(()=>{const f=w(t),d=z(f).map(g).filter(j);return new Set(d)}),s=C(()=>e.value,f=>{n(),c.value&&f.size&&(o=new MutationObserver(u),f.forEach(d=>o.observe(d,l)))},{immediate:!0,flush:"post"}),a=()=>o==null?void 0:o.takeRecords(),v=()=>{s(),n()};return R(v),{isSupported:c,stop:v,takeRecords:a}}function H(t,u,r={}){const{window:i=S,...l}=r;let o;const c=x(()=>i&&"ResizeObserver"in i),n=()=>{o&&(o.disconnect(),o=void 0)},e=M(()=>{const v=w(t);return Array.isArray(v)?v.map(f=>g(f)):[g(v)]}),s=C(e,v=>{if(n(),c.value&&i){o=new ResizeObserver(u);for(const f of v)f&&o.observe(f,l)}},{immediate:!0,flush:"post"}),a=()=>{n(),s()};return R(a),{isSupported:c,stop:a}}function ee(t,u={}){const{reset:r=!0,windowResize:i=!0,windowScroll:l=!0,immediate:o=!0,updateTiming:c="sync"}=u,n=p(0),e=p(0),s=p(0),a=p(0),v=p(0),f=p(0),d=p(0),m=p(0);function E(){const O=g(t);if(!O){r&&(n.value=0,e.value=0,s.value=0,a.value=0,v.value=0,f.value=0,d.value=0,m.value=0);return}const h=O.getBoundingClientRect();n.value=h.height,e.value=h.bottom,s.value=h.left,a.value=h.right,v.value=h.top,f.value=h.width,d.value=h.x,m.value=h.y}function b(){c==="sync"?E():c==="next-frame"&&requestAnimationFrame(()=>E())}return H(t,b),C(()=>g(t),O=>!O&&b()),G(t,b,{attributeFilter:["style","class"]}),l&&B("scroll",b,{capture:!0,passive:!0}),i&&B("resize",b,{passive:!0}),F(()=>{o&&b()}),{height:n,bottom:e,left:s,right:a,top:v,width:f,x:d,y:m,update:b}}const y=new Map;function te(t){const u=$();function r(n){var e;const s=y.get(t)||new Set;s.add(n),y.set(t,s);const a=()=>l(n);return(e=u==null?void 0:u.cleanups)==null||e.push(a),a}function i(n){function e(...s){l(e),n(...s)}return r(e)}function l(n){const e=y.get(t);e&&(e.delete(n),e.size||o())}function o(){y.delete(t)}function c(n,e){var s;(s=y.get(t))==null||s.forEach(a=>a(n,e))}return{on:r,once:i,off:l,emit:c,reset:o}}export{B as a,Z as b,Y as c,te as d,ee as u};
