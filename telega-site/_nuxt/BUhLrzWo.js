import{m as oe,q as We,r as fe,l as C,f as m,o as d,w as g,b as I,i as a,j as T,A as E,g as Je,s as ve,n as oa,d as W,t as J,B as F,Q as je,v as ua,R as da,x as ca,C as me,T as Ke,c as Q,z as f,P as Me,a as xe,F as ne,y as ze,D as pa,E as ga,ax as ma}from"./BH4CL5cc.js";import{b as fa}from"./BkJeMoP0.js";import{u as va}from"./DYcI0dWv.js";import{u as ba}from"./C0HPRuTd.js";import{u as ha}from"./BhmYCg8b.js";import{u as ya}from"./DnvHBdIE.js";import{u as Ia}from"./DWeCSV2Y.js";import{c as Ne,g as N,i as xa}from"./CvtTglqh.js";import{t as Ue}from"./O0opt6N1.js";import re from"./DuUTf5mV.js";import Ge from"./CHhl7yuu.js";import za from"./BhYD8gJL.js";import{u as Ta,_ as He,a as Ye,b as wa,c as Qe,d as Sa,e as Aa,f as qa,g as Va,h as ka,i as Ca,j as La,k as Ba,l as $a,m as _a}from"./DM_DB9Gw.js";import{u as Da}from"./DZhIbw6z.js";import{u as Xe}from"./CRXAASKd.js";import{u as Fa,q as Oa}from"./BWoT6vWr.js";import{c as Ze}from"./qgkefjPh.js";import{u as Ra}from"./CmBXxmme.js";import{u as ue}from"./B-qXnbMs.js";import{u as Ea}from"./BgRmOOwW.js";import{u as Pa}from"./B5rxJs06.js";import{P as de}from"./DGROana5.js";import{_ as ja}from"./CsFPNAZ-.js";import{u as Ka}from"./B8fnFyT8.js";import{i as ea}from"./wSbNHcIL.js";import{r as Ma}from"./4qzInpf6.js";import"./BFXmnonR.js";import"./zkBJax86.js";import"./tKuc9PKf.js";import"./kkUWTacr.js";import"./BkMAVtVy.js";import"./ChOKVcqp.js";import"./D_vDscbT.js";import"./FUKBWQwh.js";import"./BYGrLFL5.js";import"./kRIii9yh.js";import"./D6t4sbvV.js";import"./NKYLJHdx.js";import"./7xQ-t9BW.js";import"./8dI90XfD.js";import"./D4OIp904.js";import"./C4IQEttf.js";import"./DUVt9DFh.js";import"./BqddvBLk.js";import"./DmzIJ98B.js";import"./DcEBlvdf.js";const[Te,Na]=Ze("TagsInputRoot"),Ua=oe({__name:"TagsInputRoot",props:{modelValue:{},defaultValue:{default:()=>[]},addOnPaste:{type:Boolean},addOnTab:{type:Boolean},addOnBlur:{type:Boolean},duplicate:{type:Boolean},disabled:{type:Boolean},delimiter:{default:","},dir:{},max:{default:0},id:{},convertValue:{},displayValue:{type:Function,default:c=>c.toString()},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","invalid","addTag","removeTag"],setup(c,{emit:L}){const l=c,e=L,{addOnPaste:h,disabled:S,delimiter:r,max:y,id:$,dir:P,addOnBlur:_,addOnTab:U}=We(l),O=Ra(P),i=Fa(l,"modelValue",e,{defaultValue:l.defaultValue,passive:!0,deep:!0}),{forwardRef:v,currentElement:A}=ue(),{focused:R}=Oa(A),G=Ea(A),{getItems:ce,CollectionSlot:be}=Xe({isProvider:!0}),x=fe(),X=fe(!1),he=C(()=>Array.isArray(i.value)?[...i.value]:[]);function H(u){if(u!==-1){const z=ce().filter(q=>q.ref.dataset.disabled!=="");i.value=i.value.filter((q,V)=>V!==u),e("removeTag",z[u].value)}}return Na({modelValue:i,onAddValue:u=>{const z=[...he.value],q=z.length>0&&typeof z[0]=="object",V=z.length>0&&typeof l.defaultValue[0]=="object";if((q||V)&&typeof l.convertValue!="function")throw new Error("You must provide a `convertValue` function when using objects as values.");const b=l.convertValue?l.convertValue(u):u;if(z.length>=y.value&&y.value)return e("invalid",b),!1;if(l.duplicate)return i.value=[...z,b],e("addTag",b),!0;if(z.includes(b))X.value=!0;else return i.value=[...z,b],e("addTag",b),!0;return e("invalid",b),!1},onRemoveValue:H,onInputKeydown:u=>{const z=u.target,q=ce().map(b=>b.ref).filter(b=>b.dataset.disabled!=="");if(!q.length)return;const V=q.at(-1);switch(u.key){case"Delete":case"Backspace":{if(z.selectionStart!==0||z.selectionEnd!==0)break;if(x.value){const b=q.findIndex(M=>M===x.value);H(b),x.value=x.value===V?q.at(b-1):q.at(b+1),u.preventDefault()}else u.key==="Backspace"&&(x.value=V,u.preventDefault());break}case"Home":case"End":case"ArrowRight":case"ArrowLeft":{const b=u.key==="ArrowRight"&&O.value==="ltr"||u.key==="ArrowLeft"&&O.value==="rtl",M=!b;if(z.selectionStart!==0||z.selectionEnd!==0)break;if(M&&!x.value)x.value=V,u.preventDefault();else if(b&&V&&x.value===V)x.value=void 0,u.preventDefault();else if(x.value){const Z=Pa(u,x.value,void 0,{itemsArray:q,loop:!1,dir:O.value});Z&&(x.value=Z),u.preventDefault()}break}case"ArrowUp":case"ArrowDown":{x.value&&u.preventDefault();break}default:x.value=void 0}},selectedElement:x,isInvalidInput:X,addOnPaste:h,addOnBlur:_,addOnTab:U,dir:O,disabled:S,delimiter:r,max:y,id:$,displayValue:l.displayValue}),(u,z)=>(d(),m(a(be),null,{default:g(()=>[I(a(de),{ref:a(v),dir:a(O),as:u.as,"as-child":u.asChild,"data-invalid":X.value?"":void 0,"data-disabled":a(S)?"":void 0,"data-focused":a(R)?"":void 0},{default:g(()=>[T(u.$slots,"default",{modelValue:a(i)}),a(G)&&u.name?(d(),m(a(ja),{key:0,name:u.name,value:a(i),required:u.required,disabled:a(S)},null,8,["name","value","required","disabled"])):E("",!0)]),_:3},8,["dir","as","as-child","data-invalid","data-disabled","data-focused"])]),_:3}))}}),Ga=oe({__name:"TagsInputInput",props:{placeholder:{},autoFocus:{type:Boolean},maxLength:{},asChild:{type:Boolean},as:{default:"input"}},setup(c){const L=c,l=Te(),{forwardRef:e,currentElement:h}=ue();function S(i){if(!l.addOnBlur.value)return;const v=i.target;if(!v.value)return;l.onAddValue(v.value)&&(v.value="")}function r(i){l.addOnTab.value&&_(i)}const y=fe(!1);function $(){y.value=!0}function P(){requestAnimationFrame(()=>{y.value=!1})}async function _(i){if(y.value||(await oa(),i.defaultPrevented))return;const v=i.target;if(!v.value)return;l.onAddValue(v.value)&&(v.value=""),i.preventDefault()}function U(i){if(l.isInvalidInput.value=!1,i.data===null)return;const v=l.delimiter.value;if(v===i.data||v instanceof RegExp&&v.test(i.data)){const R=i.target;R.value=R.value.replace(v,""),l.onAddValue(R.value)&&(R.value="")}}function O(i){if(l.addOnPaste.value){i.preventDefault();const v=i.clipboardData;if(!v)return;const A=v.getData("text");l.delimiter.value?A.split(l.delimiter.value).forEach(G=>{l.onAddValue(G)}):l.onAddValue(A)}}return Je(()=>{const i=h.value.nodeName==="INPUT"?h.value:h.value.querySelector("input");i&&setTimeout(()=>{L.autoFocus&&(i==null||i.focus())},1)}),(i,v)=>{var A;return d(),m(a(de),{id:(A=a(l).id)==null?void 0:A.value,ref:a(e),type:"text",autocomplete:"off",autocorrect:"off",autocapitalize:"off",as:i.as,"as-child":i.asChild,maxlength:i.maxLength,placeholder:i.placeholder,disabled:a(l).disabled.value,"data-invalid":a(l).isInvalidInput.value?"":void 0,onInput:U,onKeydown:[ve(_,["enter"]),ve(r,["tab"]),a(l).onInputKeydown],onBlur:S,onCompositionstart:$,onCompositionend:P,onPaste:O},{default:g(()=>[T(i.$slots,"default")]),_:3},8,["id","as","as-child","maxlength","placeholder","disabled","data-invalid","onKeydown"])}}}),[aa,Ha]=Ze("TagsInputItem"),Ya=oe({__name:"TagsInputItem",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(c){const L=c,{value:l}=We(L),e=Te(),{forwardRef:h,currentElement:S}=ue(),{CollectionItem:r}=Xe(),y=C(()=>e.selectedElement.value===S.value),$=C(()=>L.disabled||e.disabled.value),P=Ha({value:l,isSelected:y,disabled:$,textId:"",displayValue:C(()=>e.displayValue(l.value))});return(_,U)=>(d(),m(a(r),{value:a(l)},{default:g(()=>[I(a(de),{ref:a(h),as:_.as,"as-child":_.asChild,"aria-labelledby":a(P).textId,"aria-current":y.value,"data-disabled":$.value?"":void 0,"data-state":y.value?"active":"inactive"},{default:g(()=>[T(_.$slots,"default")]),_:3},8,["as","as-child","aria-labelledby","aria-current","data-disabled","data-state"])]),_:3},8,["value"]))}}),Qa=oe({__name:"TagsInputItemText",props:{asChild:{type:Boolean},as:{default:"span"}},setup(c){const L=c,l=aa();return ue(),l.textId||(l.textId=Ka(void 0,"reka-tags-input-item-text")),(e,h)=>(d(),m(a(de),F(L,{id:a(l).textId}),{default:g(()=>[T(e.$slots,"default",{},()=>[W(J(a(l).displayValue.value),1)])]),_:3},16,["id"]))}}),Wa=oe({__name:"TagsInputItemDelete",props:{asChild:{type:Boolean},as:{default:"button"}},setup(c){const L=c;ue();const l=Te(),e=aa(),h=C(()=>{var r;return((r=e.disabled)==null?void 0:r.value)||l.disabled.value});function S(){if(h.value)return;const r=l.modelValue.value.findIndex(y=>ea(y,e.value.value));l.onRemoveValue(r)}return(r,y)=>(d(),m(a(de),F({tabindex:"-1"},L,{"aria-labelledby":a(e).textId,"aria-current":a(e).isSelected.value,"data-state":a(e).isSelected.value?"active":"inactive","data-disabled":h.value?"":void 0,type:r.as==="button"?"button":void 0,onClick:S}),{default:g(()=>[T(r.$slots,"default")]),_:3},16,["aria-labelledby","aria-current","data-state","data-disabled","type"]))}}),Ja={slots:{root:"relative inline-flex items-center",base:["rounded-md","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"group absolute inset-y-0 end-0 flex items-center disabled:cursor-not-allowed disabled:opacity-75",trailingIcon:"shrink-0 text-dimmed",arrow:"fill-default",content:"max-h-60 w-(--reka-combobox-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-combobox-content-transform-origin) pointer-events-auto",viewport:"divide-y divide-default scroll-py-1",group:"p-1 isolate",empty:"py-2 text-center text-sm text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-center gap-1.5 p-1.5 text-sm select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",tagsItem:"px-1.5 py-0.5 rounded-sm font-medium inline-flex items-center gap-0.5 ring ring-inset ring-accented bg-elevated text-default data-disabled:cursor-not-allowed data-disabled:opacity-75",tagsItemText:"truncate",tagsItemDelete:["inline-flex items-center rounded-xs text-dimmed hover:text-default hover:bg-accented/75 disabled:pointer-events-none","transition-colors"],tagsItemDeleteIcon:"",tagsInput:""},variants:{buttonGroup:{horizontal:{root:"group",base:"group-not-only:group-first:rounded-e-none group-not-only:group-last:rounded-s-none group-not-last:group-not-first:rounded-none"},vertical:{root:"group",base:"group-not-only:group-first:rounded-b-none group-not-only:group-last:rounded-t-none group-not-last:group-not-first:rounded-none"}},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",tagsItem:"text-[10px]/3",tagsItemDeleteIcon:"size-3"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",tagsItem:"text-xs",tagsItemDeleteIcon:"size-3.5"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",tagsItem:"text-sm",tagsItemDeleteIcon:"size-4"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"},multiple:{true:{root:"flex-wrap",tagsInput:"border-0 bg-transparent placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"},false:{base:"w-full border-0 placeholder:text-dimmed focus:outline-none disabled:cursor-not-allowed disabled:opacity-75"}}},compoundVariants:[{color:"primary",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-primary"},{color:"secondary",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-secondary"},{color:"success",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-success"},{color:"info",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-info"},{color:"warning",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-warning"},{color:"error",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-error"},{color:"neutral",multiple:!0,variant:["outline","subtle"],class:"has-focus-visible:ring-2 has-focus-visible:ring-inverted"},{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Nt=Object.assign({inheritAttrs:!1},{__name:"InputMenu",props:je({as:{type:null,required:!1},id:{type:String,required:!1},type:{type:null,required:!1,default:"text"},placeholder:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},trailingIcon:{type:String,required:!1},selectedIcon:{type:String,required:!1},deleteIcon:{type:String,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:je(["update:open","change","blur","focus","create","highlight","update:modelValue"],["update:searchTerm"]),setup(c,{expose:L,emit:l}){const e=c,h=l,S=ua(),r=da(c,"searchTerm",{type:String,default:""}),{t:y}=ya(),$=ca(),{contains:P}=Ta({sensitivity:"base"}),_=Da(Ma(e,"as","modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover","ignoreFilter"),h),U=Ia(me(()=>e.portal)),O=me(()=>Ke(e.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),i=me(()=>e.arrow),{emitFormBlur:v,emitFormFocus:A,emitFormChange:R,emitFormInput:G,size:ce,color:be,id:x,name:X,highlight:he,disabled:H,ariaAttrs:u}=ha(e),{orientation:z,size:q}=va(e),{isLeading:V,isTrailing:b,leadingIconName:M,trailingIconName:Z}=ba(me(()=>Ke(e,{trailingIcon:$.ui.icons.chevronDown}))),ye=C(()=>q.value||ce.value),[ta,we]=fa(),n=C(()=>{var t;return Ue({extend:Ue(Ja),...((t=$.ui)==null?void 0:t.inputMenu)||{}})({color:be.value,variant:e.variant,size:ye==null?void 0:ye.value,loading:e.loading,highlight:he.value,leading:V.value||!!e.avatar||!!S.leading,trailing:b.value||!!S.trailing,multiple:e.multiple,buttonGroup:z.value})});function Se(t){if(!e.valueKey)return t&&(typeof t=="object"?N(t,e.labelKey):t);const s=la.value.find(p=>Ne(typeof p=="object"?N(p,e.valueKey):p,t));return s&&(typeof s=="object"?N(s,e.labelKey):s)}const Ie=C(()=>{var t;return(t=e.items)!=null&&t.length?xa(e.items)?e.items:[e.items]:[]}),la=C(()=>Ie.value.flatMap(t=>t)),Ae=C(()=>{if(e.ignoreFilter||!r.value)return Ie.value;const t=Array.isArray(e.filterFields)?e.filterFields:[e.labelKey];return Ie.value.map(s=>s.filter(p=>typeof p!="object"||p===null?P(String(p),r.value):p.type&&["label","separator"].includes(p.type)?!0:t.some(k=>P(N(p,k),r.value)))).filter(s=>s.filter(p=>!D(p)||!p.type||!["label","separator"].includes(p.type)).length>0)}),qe=C(()=>Ae.value.flatMap(t=>t)),Ve=C(()=>{if(!e.createItem||!r.value)return!1;const t=e.valueKey?{[e.valueKey]:r.value}:r.value;return typeof e.createItem=="object"&&e.createItem.when==="always"||e.createItem==="always"?!qe.value.find(s=>Ne(s,t,e.valueKey)):!qe.value.length}),ke=C(()=>typeof e.createItem=="object"?e.createItem.position:"bottom"),pe=fe(null);function ia(){var t,s;e.autofocus&&((s=(t=pe.value)==null?void 0:t.$el)==null||s.focus())}Je(()=>{setTimeout(()=>{ia()},e.autofocusDelay)});function Ce(t){if(ma(e.modelValue)===t)return;const s=new Event("change",{target:{value:t}});h("change",s),R(),G(),e.resetSearchTermOnSelect&&(r.value="")}function Le(t){h("blur",t),v()}function Be(t){h("focus",t),A()}function sa(t){let s;if(t){const p=new FocusEvent("focus");h("focus",p),A(),clearTimeout(s)}else{const p=new FocusEvent("blur");h("blur",p),v(),e.resetSearchTermOnBlur&&(s=setTimeout(()=>{r.value=""},100))}}function na(t){if(e.multiple){const p=e.modelValue.filter(k=>!ea(k,t));h("update:modelValue",p),Ce(p)}}function ra(t,s){var p;if(D(s)){if(s.disabled){t.preventDefault();return}(p=s.onSelect)==null||p.call(s,t)}}function D(t){return typeof t=="object"&&t!==null}return L({inputRef:pe}),(t,s)=>{var p;return d(),Q(ne,null,[I(a(ta),null,{default:g(()=>{var k;return[I(a(He),{class:f(n.value.group({class:(k=e.ui)==null?void 0:k.group}))},{default:g(()=>{var ee;return[I(a(Ye),{class:f(n.value.item({class:(ee=e.ui)==null?void 0:ee.item})),value:r.value,onSelect:s[0]||(s[0]=Me(Y=>h("create",r.value),["prevent"]))},{default:g(()=>{var Y;return[xe("span",{class:f(n.value.itemLabel({class:(Y=e.ui)==null?void 0:Y.itemLabel}))},[T(t.$slots,"create-item-label",{item:r.value},()=>[W(J(a(y)("inputMenu.create",{label:r.value})),1)])],2)]}),_:3},8,["class","value"])]}),_:3},8,["class"])]}),_:3}),I(a(La),F({id:a(x)},a(_),{name:a(X),disabled:a(H),class:n.value.root({class:[e.class,(p=e.ui)==null?void 0:p.root]}),"as-child":!!c.multiple,"ignore-filter":"","onUpdate:modelValue":Ce,"onUpdate:open":sa,onKeydown:s[4]||(s[4]=ve(k=>k.preventDefault(),["enter"]))}),{default:g(({modelValue:k,open:ee})=>{var Y;return[I(a(wa),{"as-child":!c.multiple,class:f(n.value.base({class:(Y=e.ui)==null?void 0:Y.base}))},{default:g(()=>{var ae,te;return[c.multiple?(d(),m(a(Ua),{key:0,"model-value":k,disabled:a(H),required:c.required,delimiter:"","as-child":"",onBlur:Le,onFocus:Be,onRemoveTag:na},{default:g(({modelValue:B})=>[(d(!0),Q(ne,null,ze(B,(w,j)=>{var le;return d(),m(a(Ya),{key:j,value:w,class:f(n.value.tagsItem({class:(le=e.ui)==null?void 0:le.tagsItem}))},{default:g(()=>{var ie,o;return[I(a(Qa),{class:f(n.value.tagsItemText({class:(ie=e.ui)==null?void 0:ie.tagsItemText}))},{default:g(()=>[T(t.$slots,"tags-item-text",{item:w,index:j},()=>[W(J(Se(w)),1)])]),_:2},1032,["class"]),I(a(Wa),{class:f(n.value.tagsItemDelete({class:(o=e.ui)==null?void 0:o.tagsItemDelete})),disabled:a(H)},{default:g(()=>[T(t.$slots,"tags-item-delete",{item:w,index:j},()=>{var K;return[I(re,{name:c.deleteIcon||a($).ui.icons.close,class:f(n.value.tagsItemDeleteIcon({class:(K=e.ui)==null?void 0:K.tagsItemDeleteIcon}))},null,8,["name","class"])]})]),_:2},1032,["class","disabled"])]}),_:2},1032,["value","class"])}),128)),I(a(Qe),{modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=w=>r.value=w),"as-child":""},{default:g(()=>{var w;return[I(a(Ga),F({ref_key:"inputRef",ref:pe},{...t.$attrs,...a(u)},{placeholder:c.placeholder,class:n.value.tagsInput({class:(w=e.ui)==null?void 0:w.tagsInput}),onKeydown:s[1]||(s[1]=ve(Me(()=>{},["prevent"]),["enter"]))}),null,16,["placeholder","class"])]}),_:1},8,["modelValue"])]),_:2},1032,["model-value","disabled","required"])):(d(),m(a(Qe),F({key:1,ref_key:"inputRef",ref:pe,"display-value":Se},{...t.$attrs,...a(u)},{type:c.type,placeholder:c.placeholder,required:c.required,onBlur:Le,onFocus:Be,"onUpdate:modelValue":s[3]||(s[3]=B=>r.value=B)}),null,16,["type","placeholder","required"])),a(V)||c.avatar||S.leading?(d(),Q("span",{key:2,class:f(n.value.leading({class:(ae=e.ui)==null?void 0:ae.leading}))},[T(t.$slots,"leading",{modelValue:k,open:ee,ui:n.value},()=>{var B,w,j;return[a(V)&&a(M)?(d(),m(re,{key:0,name:a(M),class:f(n.value.leadingIcon({class:(B=e.ui)==null?void 0:B.leadingIcon}))},null,8,["name","class"])):c.avatar?(d(),m(Ge,F({key:1,size:((w=e.ui)==null?void 0:w.itemLeadingAvatarSize)||n.value.itemLeadingAvatarSize()},c.avatar,{class:n.value.itemLeadingAvatar({class:(j=e.ui)==null?void 0:j.itemLeadingAvatar})}),null,16,["size","class"])):E("",!0)]})],2)):E("",!0),a(b)||S.trailing?(d(),m(a(Sa),{key:3,class:f(n.value.trailing({class:(te=e.ui)==null?void 0:te.trailing}))},{default:g(()=>[T(t.$slots,"trailing",{modelValue:k,open:ee,ui:n.value},()=>{var B;return[a(Z)?(d(),m(re,{key:0,name:a(Z),class:f(n.value.trailingIcon({class:(B=e.ui)==null?void 0:B.trailingIcon}))},null,8,["name","class"])):E("",!0)]})]),_:2},1032,["class"])):E("",!0)]}),_:2},1032,["as-child","class"]),I(a(Aa),pa(ga(a(U))),{default:g(()=>{var ae;return[I(a(qa),F({class:n.value.content({class:(ae=e.ui)==null?void 0:ae.content})},O.value),{default:g(()=>{var te,B,w;return[T(t.$slots,"content-top"),I(a(Va),{class:f(n.value.empty({class:(te=e.ui)==null?void 0:te.empty}))},{default:g(()=>[T(t.$slots,"empty",{searchTerm:r.value},()=>[W(J(r.value?a(y)("inputMenu.noMatch",{searchTerm:r.value}):a(y)("inputMenu.noData")),1)])]),_:3},8,["class"]),I(a(ka),{class:f(n.value.viewport({class:(B=e.ui)==null?void 0:B.viewport}))},{default:g(()=>[Ve.value&&ke.value==="top"?(d(),m(a(we),{key:0})):E("",!0),(d(!0),Q(ne,null,ze(Ae.value,(j,le)=>{var ie;return d(),m(a(He),{key:`group-${le}`,class:f(n.value.group({class:(ie=e.ui)==null?void 0:ie.group}))},{default:g(()=>[(d(!0),Q(ne,null,ze(j,(o,K)=>{var $e,_e,De;return d(),Q(ne,{key:`group-${le}-${K}`},[D(o)&&o.type==="label"?(d(),m(a(Ba),{key:0,class:f(n.value.label({class:($e=e.ui)==null?void 0:$e.label}))},{default:g(()=>[W(J(a(N)(o,e.labelKey)),1)]),_:2},1032,["class"])):D(o)&&o.type==="separator"?(d(),m(a($a),{key:1,class:f(n.value.separator({class:(_e=e.ui)==null?void 0:_e.separator}))},null,8,["class"])):(d(),m(a(Ye),{key:2,class:f(n.value.item({class:(De=e.ui)==null?void 0:De.item})),disabled:D(o)&&o.disabled,value:e.valueKey&&D(o)?a(N)(o,e.valueKey):o,onSelect:ge=>ra(ge,o)},{default:g(()=>[T(t.$slots,"item",{item:o,index:K},()=>{var ge,Fe;return[T(t.$slots,"item-leading",{item:o,index:K},()=>{var se,Oe,Re,Ee,Pe;return[D(o)&&o.icon?(d(),m(re,{key:0,name:o.icon,class:f(n.value.itemLeadingIcon({class:(se=e.ui)==null?void 0:se.itemLeadingIcon}))},null,8,["name","class"])):D(o)&&o.avatar?(d(),m(Ge,F({key:1,size:((Oe=e.ui)==null?void 0:Oe.itemLeadingAvatarSize)||n.value.itemLeadingAvatarSize(),ref_for:!0},o.avatar,{class:n.value.itemLeadingAvatar({class:(Re=e.ui)==null?void 0:Re.itemLeadingAvatar})}),null,16,["size","class"])):D(o)&&o.chip?(d(),m(za,F({key:2,size:((Ee=e.ui)==null?void 0:Ee.itemLeadingChipSize)||n.value.itemLeadingChipSize(),inset:"",standalone:"",ref_for:!0},o.chip,{class:n.value.itemLeadingChip({class:(Pe=e.ui)==null?void 0:Pe.itemLeadingChip})}),null,16,["size","class"])):E("",!0)]}),xe("span",{class:f(n.value.itemLabel({class:(ge=e.ui)==null?void 0:ge.itemLabel}))},[T(t.$slots,"item-label",{item:o,index:K},()=>[W(J(D(o)?a(N)(o,e.labelKey):o),1)])],2),xe("span",{class:f(n.value.itemTrailing({class:(Fe=e.ui)==null?void 0:Fe.itemTrailing}))},[T(t.$slots,"item-trailing",{item:o,index:K}),I(a(_a),{"as-child":""},{default:g(()=>{var se;return[I(re,{name:c.selectedIcon||a($).ui.icons.check,class:f(n.value.itemTrailingIcon({class:(se=e.ui)==null?void 0:se.itemTrailingIcon}))},null,8,["name","class"])]}),_:1})],2)]})]),_:2},1032,["class","disabled","value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),Ve.value&&ke.value==="bottom"?(d(),m(a(we),{key:1})):E("",!0)]),_:3},8,["class"]),T(t.$slots,"content-bottom"),c.arrow?(d(),m(a(Ca),F({key:0},i.value,{class:n.value.arrow({class:(w=e.ui)==null?void 0:w.arrow})}),null,16,["class"])):E("",!0)]}),_:3},16,["class"])]}),_:3},16)]}),_:3},16,["id","name","disabled","class","as-child"])],64)}}});export{Nt as default};
