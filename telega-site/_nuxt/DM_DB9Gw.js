import{l as I,i as e,m as g,q as W,r as O,a5 as ue,M as j,g as D,V as de,f as b,o as v,w as f,b as F,B,J as se,j as y,n as z,s as pe,P as ce,A as U,d as q,D as N,W as A,I as me,c as fe,F as he,t as ve,E as le}from"./BH4CL5cc.js";import{u as K,l as be}from"./BWoT6vWr.js";import{u as H}from"./kkUWTacr.js";import{b as ge,f as ye,_ as Ce,c as _e,a as xe,d as we,e as Be}from"./BkMAVtVy.js";import{_ as $e,a as Ie,b as Se,c as ke}from"./NKYLJHdx.js";import{u as E}from"./B-qXnbMs.js";import{P as k}from"./DGROana5.js";import{u as G}from"./B8fnFyT8.js";import{u as Ee}from"./DZhIbw6z.js";import{P as Ve}from"./8dI90XfD.js";import{u as Oe}from"./D4OIp904.js";import{c as J}from"./qgkefjPh.js";import{_ as Pe}from"./DUVt9DFh.js";import{u as Fe,a as De}from"./BqddvBLk.js";import{u as Re}from"./zkBJax86.js";import{u as Te}from"./CmBXxmme.js";import{_ as ze}from"./DmzIJ98B.js";function Ne(i){const r=I(()=>e(i)),t=I(()=>new Intl.Collator("en",{usage:"search",...r.value}));return{startsWith:(l,s)=>s.length===0?!0:(l=l.normalize("NFC"),s=s.normalize("NFC"),t.value.compare(l.slice(0,s.length),s)===0),endsWith:(l,s)=>s.length===0?!0:(l=l.normalize("NFC"),s=s.normalize("NFC"),t.value.compare(l.slice(-s.length),s)===0),contains:(l,s)=>{if(s.length===0)return!0;l=l.normalize("NFC"),s=s.normalize("NFC");let d=0;const $=s.length;for(;d+$<=l.length;d++){const h=l.slice(d,d+$);if(t.value.compare(s,h)===0)return!0}return!1}}}const[S,Ge]=J("ComboboxRoot"),rt=g({__name:"ComboboxRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean},resetSearchTermOnBlur:{type:Boolean,default:!0},resetSearchTermOnSelect:{type:Boolean,default:!0},ignoreFilter:{type:Boolean},modelValue:{},defaultValue:{},multiple:{type:Boolean},dir:{},disabled:{type:Boolean},highlightOnHover:{type:Boolean},by:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean}},emits:["update:modelValue","highlight","update:open"],setup(i,{expose:r,emit:t}){var oe,ae,ne;const n=i,o=t,{primitiveElement:a,currentElement:l}=H(),{multiple:s,disabled:d,ignoreFilter:$,resetSearchTermOnSelect:h,dir:C}=W(n),u=Te(C),p=K(n,"modelValue",o,{defaultValue:n.defaultValue??(s.value?[]:void 0),passive:n.modelValue===void 0,deep:!0}),m=K(n,"open",o,{defaultValue:n.defaultOpen,passive:n.open===void 0});async function V(c){var _,x;m.value=c,w.search="",c?(await z(),(_=a.value)==null||_.highlightSelected(),M.value=!0):M.value=!1,(x=L.value)==null||x.focus(),setTimeout(()=>{!c&&n.resetSearchTermOnBlur&&Q.trigger()},1)}const Q=be(),M=O(!1),X=O(!1),L=O(),Y=O(),Z=I(()=>{var c;return((c=a.value)==null?void 0:c.highlightedElement)??void 0}),R=O(new Map),ee=O(new Map),{contains:ie}=Ne({sensitivity:"base"}),w=ue({search:"",filtered:{count:0,items:new Map,groups:new Set}});function te(){if(!w.search||n.ignoreFilter||X.value){w.filtered.count=R.value.size;return}w.filtered.groups=new Set;let c=0;for(const[_,x]of R.value){const T=ie(x,w.search);w.filtered.items.set(_,T?1:0),T&&c++}for(const[_,x]of ee.value)for(const T of x)if(w.filtered.items.get(T)>0){w.filtered.groups.add(_);break}w.filtered.count=c}j([()=>w.search,()=>R.value.size],()=>{te()},{immediate:!0}),j(()=>m.value,()=>{z(()=>{m.value&&te()})},{flush:"post"});const P=de();return D(()=>{var c,_,x;P!=null&&P.exposed&&(P.exposed.highlightItem=(c=a.value)==null?void 0:c.highlightItem,P.exposed.highlightFirstItem=(_=a.value)==null?void 0:_.highlightFirstItem,P.exposed.highlightSelected=(x=a.value)==null?void 0:x.highlightSelected)}),r({filtered:I(()=>w.filtered),highlightedElement:Z,highlightItem:(oe=a.value)==null?void 0:oe.highlightItem,highlightFirstItem:(ae=a.value)==null?void 0:ae.highlightFirstItem,highlightSelected:(ne=a.value)==null?void 0:ne.highlightSelected}),Ge({modelValue:p,multiple:s,disabled:d,open:m,onOpenChange:V,contentId:"",isUserInputted:M,isVirtual:X,inputElement:L,highlightedElement:Z,onInputElementChange:c=>L.value=c,triggerElement:Y,onTriggerElementChange:c=>Y.value=c,parentElement:l,resetSearchTermOnSelect:h,onResetSearchTerm:Q.on,allItems:R,allGroups:ee,filterState:w,ignoreFilter:$}),(c,_)=>(v(),b(e($e),null,{default:f(()=>[F(e(ge),B({ref_key:"primitiveElement",ref:a},c.$attrs,{modelValue:e(p),"onUpdate:modelValue":_[0]||(_[0]=x=>se(p)?p.value=x:null),style:{pointerEvents:e(m)?"auto":void 0},as:c.as,"as-child":c.asChild,dir:e(u),multiple:e(s),name:c.name,required:c.required,disabled:e(d),"highlight-on-hover":!0,by:n.by,onHighlight:_[1]||(_[1]=x=>o("highlight",x))}),{default:f(()=>[y(c.$slots,"default",{open:e(m),modelValue:e(p)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","by"])]),_:3}))}}),it=g({__name:"ComboboxInput",props:{displayValue:{},modelValue:{},autoFocus:{type:Boolean},disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"input"}},emits:["update:modelValue"],setup(i,{emit:r}){const t=i,n=r,o=S(),a=ye(),{primitiveElement:l,currentElement:s}=H(),d=K(t,"modelValue",n,{passive:t.modelValue===void 0});D(()=>{s.value&&o.onInputElementChange(s.value)});function $(u){o.open.value||o.onOpenChange(!0)}function h(u){const p=u.target;o.open.value?o.filterState.search=p.value:(o.onOpenChange(!0),z(()=>{p.value&&(o.filterState.search=p.value,a.highlightFirstItem(u))}))}function C(){const u=o.modelValue.value;t.displayValue?d.value=t.displayValue(u):!o.multiple.value&&u&&!Array.isArray(u)&&typeof u!="object"?d.value=u.toString():d.value="",z(()=>{d.value=d.value})}return o.onResetSearchTerm(()=>{C()}),j(o.modelValue,async()=>{!o.isUserInputted.value&&o.resetSearchTermOnSelect.value&&C()},{immediate:!0,deep:!0}),(u,p)=>(v(),b(e(Ce),{ref_key:"primitiveElement",ref:l,modelValue:e(d),"onUpdate:modelValue":p[0]||(p[0]=m=>se(d)?d.value=m:null),as:u.as,"as-child":u.asChild,"auto-focus":u.autoFocus,"aria-expanded":e(o).open.value,"aria-controls":e(o).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"false",onInput:h,onKeydown:pe(ce($,["prevent"]),["down","up"])},{default:f(()=>[y(u.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","aria-expanded","aria-controls","onKeydown"]))}}),ut=g({__name:"ComboboxAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(i){const{forwardRef:r}=E();return(t,n)=>(v(),b(e(Ie),{"as-child":"",reference:t.reference},{default:f(()=>[F(e(k),B({ref:e(r),"as-child":t.asChild,as:t.as},t.$attrs),{default:f(()=>[y(t.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),dt=g({__name:"ComboboxEmpty",props:{asChild:{type:Boolean},as:{}},setup(i){const r=i,t=S(),n=I(()=>t.ignoreFilter.value?t.allItems.value.size===0:!!t.filterState.search&&t.filterState.filtered.count===0);return(o,a)=>n.value?(v(),b(e(k),N(B({key:0},r)),{default:f(()=>[y(o.$slots,"default",{},()=>[a[0]||(a[0]=q("No options"))])]),_:3},16)):U("",!0)}}),pt=g({__name:"ComboboxTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{default:"button"}},setup(i){const r=i,{forwardRef:t,currentElement:n}=E(),o=S(),a=I(()=>r.disabled||o.disabled.value||!1);return D(()=>{n.value&&o.onTriggerElementChange(n.value)}),(l,s)=>(v(),b(e(k),B(r,{ref:e(t),type:l.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":e(o).open.value,"aria-controls":e(o).contentId,"data-state":e(o).open.value?"open":"closed",disabled:a.value,"data-disabled":a.value?"":void 0,"aria-disabled":a.value??void 0,onClick:s[0]||(s[0]=d=>e(o).onOpenChange(!e(o).open.value))}),{default:f(()=>[y(l.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),[re,Me]=J("ComboboxGroup"),ct=g({__name:"ComboboxGroup",props:{asChild:{type:Boolean},as:{}},setup(i){const r=i,t=G(void 0,"reka-combobox-group"),n=S(),o=I(()=>n.ignoreFilter.value?!0:n.filterState.search?n.filterState.filtered.groups.has(t):!0),a=Me({id:t,labelId:""});return D(()=>{n.allGroups.value.has(t)||n.allGroups.value.set(t,new Set)}),A(()=>{n.allGroups.value.delete(t)}),(l,s)=>(v(),b(e(_e),B({id:e(t),"aria-labelledby":e(a).labelId},r,{hidden:o.value?void 0:!0}),{default:f(()=>[y(l.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),mt=g({__name:"ComboboxLabel",props:{for:{},asChild:{type:Boolean},as:{default:"div"}},setup(i){const r=i;E();const t=re({id:"",labelId:""});return t.labelId||(t.labelId=G(void 0,"reka-combobox-group-label")),(n,o)=>(v(),b(e(k),B(r,{id:e(t).labelId}),{default:f(()=>[y(n.$slots,"default")]),_:3},16,["id"]))}}),[Le,je]=J("ComboboxContent"),Ke=g({__name:"ComboboxContentImpl",props:{position:{default:"inline"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(i,{emit:r}){const t=i,n=r,{position:o}=W(t),a=S(),{forwardRef:l,currentElement:s}=E();Fe(t.bodyLock),De(a.parentElement);const d=I(()=>t.position==="popper"?t:{}),$=Re(d.value),h={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};je({position:o});const C=O(!1);return D(()=>{a.inputElement.value&&(C.value=s.value.contains(a.inputElement.value),C.value&&a.inputElement.value.focus())}),A(()=>{var u;C.value&&((u=a.triggerElement.value)==null||u.focus())}),(u,p)=>(v(),b(e(xe),{"as-child":""},{default:f(()=>[F(e(Pe),{"as-child":"","disable-outside-pointer-events":u.disableOutsidePointerEvents,onDismiss:p[0]||(p[0]=m=>e(a).onOpenChange(!1)),onFocusOutside:p[1]||(p[1]=m=>{var V;(V=e(a).parentElement.value)!=null&&V.contains(m.target)&&m.preventDefault(),n("focusOutside",m)}),onInteractOutside:p[2]||(p[2]=m=>n("interactOutside",m)),onEscapeKeyDown:p[3]||(p[3]=m=>n("escapeKeyDown",m)),onPointerDownOutside:p[4]||(p[4]=m=>{var V;(V=e(a).parentElement.value)!=null&&V.contains(m.target)&&m.preventDefault(),n("pointerDownOutside",m)})},{default:f(()=>[(v(),b(me(e(o)==="popper"?e(Se):e(k)),B({...u.$attrs,...e($)},{id:e(a).contentId,ref:e(l),"data-state":e(a).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...e(o)==="popper"?h:{}}}),{default:f(()=>[y(u.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),ft=g({__name:"ComboboxContent",props:{forceMount:{type:Boolean},position:{},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(i,{emit:r}){const o=Ee(i,r),{forwardRef:a}=E(),l=S();return l.contentId||(l.contentId=G(void 0,"reka-combobox-content")),(s,d)=>(v(),b(e(Ve),{present:s.forceMount||e(l).open.value},{default:f(()=>[F(Ke,B({...e(o),...s.$attrs},{ref:e(a)}),{default:f(()=>[y(s.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),ht=g({__name:"ComboboxViewport",props:{nonce:{},asChild:{type:Boolean},as:{}},setup(i){const r=i,{forwardRef:t}=E(),{nonce:n}=W(r),o=Oe(n),a=S();return(l,s)=>(v(),fe(he,null,[F(e(k),B({...l.$attrs,...r},{ref:e(t),"data-reka-combobox-viewport":"",role:"presentation",style:{position:"relative",flex:e(a).isVirtual.value?void 0:1,overflow:"auto"}}),{default:f(()=>[y(l.$slots,"default")]),_:3},16,["style"]),F(e(k),{as:"style",nonce:e(o)},{default:f(()=>s[0]||(s[0]=[q(" /* Hide scrollbars cross-browser and enable momentum scroll for touch devices */ [data-reka-combobox-viewport] { scrollbar-width:none; -ms-overflow-style: none; -webkit-overflow-scrolling: touch; } [data-reka-combobox-viewport]::-webkit-scrollbar { display: none; } ")])),_:1},8,["nonce"])],64))}}),vt=g({__name:"ComboboxItem",props:{textValue:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["select"],setup(i,{emit:r}){const t=i,n=r,o=G(void 0,"reka-combobox-item"),a=S(),l=re(null),{primitiveElement:s,currentElement:d}=H();if(t.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const $=I(()=>{if(a.isVirtual.value||a.ignoreFilter.value||!a.filterState.search)return!0;{const h=a.filterState.filtered.items.get(o);return h===void 0?!0:h>0}});return D(()=>{var C;a.allItems.value.set(o,t.textValue||d.value.textContent||d.value.innerText);const h=l==null?void 0:l.id;h&&(a.allGroups.value.has(h)?(C=a.allGroups.value.get(h))==null||C.add(o):a.allGroups.value.set(h,new Set([o])))}),A(()=>{a.allItems.value.delete(o)}),(h,C)=>$.value?(v(),b(e(we),B({key:0},t,{id:e(o),ref_key:"primitiveElement",ref:s,onSelect:C[0]||(C[0]=u=>{n("select",u),!u.defaultPrevented&&(e(a).multiple.value||(u.preventDefault(),e(a).onOpenChange(!1),e(a).modelValue.value=t.value))})}),{default:f(()=>[y(h.$slots,"default",{},()=>[q(ve(h.value),1)])]),_:3},16,["id"])):U("",!0)}}),bt=g({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean},as:{default:"span"}},setup(i){const r=i;return(t,n)=>(v(),b(e(Be),N(le(r)),{default:f(()=>[y(t.$slots,"default")]),_:3},16))}}),gt=g({__name:"ComboboxSeparator",props:{asChild:{type:Boolean},as:{}},setup(i){const r=i;return E(),(t,n)=>(v(),b(e(k),B(r,{"aria-hidden":"true"}),{default:f(()=>[y(t.$slots,"default")]),_:3},16))}}),yt=g({__name:"ComboboxArrow",props:{width:{default:10},height:{default:5},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(i){const r=i,t=S(),n=Le();return E(),(o,a)=>e(t).open.value&&e(n).position.value==="popper"?(v(),b(e(ke),N(B({key:0},r)),{default:f(()=>[y(o.$slots,"default")]),_:3},16)):U("",!0)}}),Ct=g({__name:"ComboboxPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(i){const r=i;return(t,n)=>(v(),b(e(ze),N(le(r)),{default:f(()=>[y(t.$slots,"default")]),_:3},16))}});export{ct as _,vt as a,ut as b,it as c,pt as d,Ct as e,ft as f,dt as g,ht as h,yt as i,rt as j,mt as k,gt as l,bt as m,Ne as u};
