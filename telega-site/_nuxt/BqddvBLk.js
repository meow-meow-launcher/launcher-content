import{a as C,h as O,t as x,i as D,m as A,b as P}from"./BWoT6vWr.js";import{M as B,W as R,l as W,r as h,T as H,n as Y}from"./BH4CL5cc.js";import{i as $}from"./C4IQEttf.js";var j=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},f=new WeakMap,p=new WeakMap,m={},g=0,k=function(e){return e&&(e.host||k(e.parentNode))},L=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=k(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},U=function(e,t,r,n){var i=L(t,Array.isArray(e)?e:[e]);m[r]||(m[r]=new WeakMap);var l=m[r],c=[],d=new Set,s=new Set(i),v=function(o){!o||d.has(o)||(d.add(o),v(o.parentNode))};i.forEach(v);var u=function(o){!o||s.has(o)||Array.prototype.forEach.call(o.children,function(a){if(d.has(a))u(a);else try{var y=a.getAttribute(n),w=y!==null&&y!=="false",b=(f.get(a)||0)+1,S=(l.get(a)||0)+1;f.set(a,b),l.set(a,S),c.push(a),b===1&&w&&p.set(a,!0),S===1&&a.setAttribute(r,"true"),w||a.setAttribute(n,"true")}catch(M){console.error("aria-hidden: cannot operate on ",a,M)}})};return u(t),d.clear(),g++,function(){c.forEach(function(o){var a=f.get(o)-1,y=l.get(o)-1;f.set(o,a),l.set(o,y),a||(p.has(o)||o.removeAttribute(n),p.delete(o)),y||o.removeAttribute(r)}),g--,g||(f=new WeakMap,f=new WeakMap,p=new WeakMap,m={})}},X=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=j(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),U(n,i,r,"aria-hidden")):function(){return null}};function z(e){let t;B(()=>C(e),r=>{r?t=X(r):t&&t()}),R(()=>{t&&t()})}const q=O(()=>{const e=h(new Map),t=h(),r=W(()=>{for(const c of e.value.values())if(c)return!0;return!1}),n=$({scrollBody:h(!0)});let i=null;const l=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.body.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",A&&(i==null||i()),t.value=void 0};return B(r,(c,d)=>{var o;if(!D)return;if(!c){d&&l();return}t.value===void 0&&(t.value=document.body.style.overflow);const s=window.innerWidth-document.documentElement.clientWidth,v={padding:s,margin:0},u=(o=n.scrollBody)!=null&&o.value?typeof n.scrollBody.value=="object"?H({padding:n.scrollBody.value.padding===!0?s:n.scrollBody.value.padding,margin:n.scrollBody.value.margin===!0?s:n.scrollBody.value.margin},v):v:{padding:0,margin:0};s>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.body.style.setProperty("--scrollbar-width",`${s}px`),document.body.style.overflow="hidden"),A&&(i=P(document,"touchmove",a=>I(a),{passive:!1})),Y(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function F(e){const t=Math.random().toString(36).substring(2,7),r=q();r.value.set(t,e??!1);const n=W({get:()=>r.value.get(t)??!1,set:i=>r.value.set(t,i)});return x(()=>{r.value.delete(t)}),n}function E(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const r=e.parentNode;return!(r instanceof Element)||r.tagName==="BODY"?!1:E(r)}}function I(e){const t=e||window.event,r=t.target;return r instanceof Element&&E(r)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}export{z as a,F as u};
